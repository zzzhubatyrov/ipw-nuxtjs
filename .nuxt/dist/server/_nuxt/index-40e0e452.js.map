{"version":3,"file":"index-40e0e452.js","sources":["../../../../pages/employer/index.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"create-company_block\">\n      <h2 class=\"create-company_head\">Создание профиля компании</h2>\n      <div class=\"create-company_content\">\n        <form class=\"create-company_form\" enctype=\"multipart/form-data\" @submit.prevent=\"createCompanyHandler\">\n\n          <!--          <label for=\"photo\" v-if=\"showUpLoad\" ref=\"fileInput\" class=\"logo\"-->\n          <!--                 style=\"display:flex; align-items: center; justify-content: center\">-->\n          <!--            <img src=\"@/assets/img/camera.svg\" alt=\"add-photo\"/>-->\n          <!--            <input class=\"logo\" type=\"file\" ref=\"fileInput2\" name=\"photo\" id=\"photo\" @change=\"handleFileChange\"/>-->\n          <!--          </label>-->\n          <input type=\"file\" id=\"photo\" @change=\"handlePhotoUpload\" accept=\"image/*\">\n          <input type=\"text\" v-model=\"companyName\" placeholder=\"Название компании\">\n          <input type=\"text\" v-model=\"companyTag\" placeholder=\"Тэг компании\">\n          <textarea placeholder=\"Описание компании\" v-model=\"companyDescription\"></textarea>\n          <input type=\"text\" v-model=\"companyLocation\" placeholder=\"Местоположение\">\n          <input type=\"text\" v-model=\"companyWebSite\" placeholder=\"Веб-сайт\">\n          <input type=\"email\" v-model=\"companyEmail\" placeholder=\"Email\">\n          <input type=\"text\" v-model=\"companyPhone\" placeholder=\"Телефон\">\n          <button class=\"btn success\" type=\"submit\">Создать</button>\n        </form>\n      </div>\n    </div>\n  </div>\n  <div class=\"modal\" v-if=\"uploadModal\">\n    <UploadPhotoComponent :closeUploadModal=\"closeUploadModal\"/>\n  </div>\n</template>\n\n<script setup>\nimport {ref} from 'vue'\nimport axios from \"axios\";\nimport UploadPhotoComponent from './components/UploadPhotoComponent.vue'\n\nlet companyName = ref('')\nlet companyTag = ref('')\nlet companyDescription = ref('')\nlet companyLocation = ref('')\nlet companyWebSite = ref('')\nlet companyEmail = ref('')\nlet companyPhone = ref('')\nlet companyPhoto = ref(null)\nconst router = useRouter()\n\nconst handlePhotoUpload = (event) => {\n  companyPhoto.value = event.target.files[0];\n}\n\nconst createCompanyHandler = async () => {\n  const formData = new FormData()\n  formData.append(\"name\", companyName.value)\n  formData.append(\"photo\", companyPhoto.value)\n  formData.append(\"tag\", companyTag.value)\n  formData.append(\"email\", companyEmail.value)\n  formData.append(\"phone\", companyPhone.value)\n  formData.append(\"location\", companyLocation.value)\n  formData.append(\"description\", companyDescription.value)\n  try {\n    const res = await axios.post('https://api.itprofessionalswork.ru/data/v1/user/create-company',\n      formData, {withCredentials: true, headers: {\"Content-Type\": \"multipart/form-data\"}})\n    // console.log(res)\n    router.push('/profile')\n  } catch (e) {\n    console.log(e)\n  }\n}\nconst uploadModal = ref(false)\nconst openUploadModal = () => {\n  uploadModal.value = true\n}\nconst closeUploadModal = () => {\n  uploadModal.value = false\n}\n\nlet imagePreviewURL = ref(null)\nlet showUpLoad = ref(true)\nconst handleFileChange = (event) => {\n  const file = event.target.files[0];\n  const reader = new FileReader();\n  reader.onload = () => {\n    imagePreviewURL.value = reader.result;\n    showUpLoad.value = false\n  };\n  reader.readAsDataURL(file);\n}\n\ndefineComponent({\n  UploadPhotoComponent\n})\n</script>\n\n<style scoped>\n@import \"./assets/css/style.css\";\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAmCA,QAAI,cAAc,IAAI,EAAE;AACxB,QAAI,aAAa,IAAI,EAAE;AACvB,QAAI,qBAAqB,IAAI,EAAE;AAC/B,QAAI,kBAAkB,IAAI,EAAE;AAC5B,QAAI,iBAAiB,IAAI,EAAE;AAC3B,QAAI,eAAe,IAAI,EAAE;AACzB,QAAI,eAAe,IAAI,EAAE;AACN,QAAI,IAAI;AACZ,cAAW;AAwB1B,UAAM,cAAc,IAAI,KAAK;AAI7B,UAAM,mBAAmB,MAAM;AAC7B,kBAAY,QAAQ;AAAA,IACtB;AAEsB,QAAI,IAAI;AACb,QAAI,IAAI;;;;;;;;;;;;;;;;;;;;;"}