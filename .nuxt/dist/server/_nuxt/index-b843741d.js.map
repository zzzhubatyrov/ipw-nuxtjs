{"version":3,"file":"index-b843741d.js","sources":["../../../../pages/admin/index.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"container-head\">\n      <div class=\"profile-container\">\n        <div class=\"photo\"></div>\n        <div class=\"info-block\">\n          <div class=\"info-block_content\">\n            <div class=\"nameTag-block\">\n              <div class=\"name\">Rodion Zhubatyrov</div>\n              <div class=\"tag\">@zhubatyrov</div>\n            </div>\n            <div class=\"ageLocation-block\">\n              <div class=\"age\">Мужчина, 17</div>\n              <div class=\"location\">Город: Нефтекамск</div>\n            </div>\n          </div>\n          <div class=\"contacts-block\">\n            <div class=\"email\">whqhub@bk.ru</div>\n            <div class=\"phoneNumber\">+7(999)999-99-99</div>\n          </div>\n          <div class=\"role\">admin</div>\n        </div>\n      </div>\n      <p class=\"brand\">itprofessionalswork</p>\n    </div>\n    <div class=\"container-content\">\n      <div class=\"content-head\">\n        <div class=\"btn blue-btn users-btn\" @click=\"changeContent('users')\">Пользователи</div>\n        <div class=\"btn blue-btn resume-btn\" @click=\"changeContent('resume')\">Резюме</div>\n        <div class=\"btn blue-btn companies-btn\" @click=\"changeContent('companies')\">Компании</div>\n        <div class=\"btn blue-btn vacancies-btn\" @click=\"changeContent('vacancies')\">Вакансии</div>\n      </div>\n      <div class=\"content\">\n        <div v-if=\"activeContent === 'users'\">Users Content</div>\n        <div v-if=\"activeContent === 'resume'\">\n          <p>Resumes Content</p>\n        </div>\n        <div v-if=\"activeContent === 'companies'\">Companies Content</div>\n        <div v-if=\"activeContent === 'vacancies'\">Vacancies Content</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {defineComponent, onMounted, ref} from 'vue'\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nconst activeContent = ref('users')\nconst router = useRouter()\nconst changeContent = (type: string) => {\n  activeContent.value = type\n}\nconst resumes = ref([]);\nonMounted(async () => {\n  try {\n    const response = await axios.get(\"http://localhost:5000/resume/v1/resumes\");\n    resumes.value = response.data;\n    console.log(resumes.value)\n  } catch (error) {\n    console.error(error);\n  }\n});\n\nonMounted(async () => {\n  try {\n    const res = await axios.get(\"http://localhost:5000/data/v1/user\", {withCredentials: true})\n    let error = {\n      \"message\": \"Вы не являетесь Администратором или Модератором!\",\n      \"code\": 404,\n      \"description\": \"Отказано в доступе\"\n    }\n    if (res.data.role.role_name != \"Администратор\" || res.data.role.role_name != \"Модератор\") {\n      await router.push('/profile')\n      console.log(JSON.stringify(error))\n    }\n  } catch (e) {\n    console.log(e)\n  }\n})\n// onMounted(() => {\n//   const isAuth = Cookies.get(\"ipwCookie\")\n//   if (!isAuth) {\n//     router.push('/profile')\n//   }\n// })\n</script>\n\n<style scoped>\n@import \"./assets/css/style.css\";\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAgDM,UAAA,gBAAgB,IAAI,OAAO;AAClB,cAAU;AAIT,QAAI,CAAA,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}