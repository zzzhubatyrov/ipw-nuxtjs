import{d as k,r as n,u as V,a as S,o as _,c as h,w as u,v as r,b as e,h as i,i as f,p as q,g as U,_ as C}from"./entry.34ecb820.js";import{a as y}from"./axios.21b846bc.js";import{a as I}from"./js.cookie.edb2da2a.js";const d=p=>(q("data-v-c37ca175"),p=p(),U(),p),B=["onSubmit"],F=d(()=>e("h1",null,[i("Авторизация "),e("span",null,"/"),i(" Регистрация")],-1)),M=d(()=>e("button",{class:"btn",type:"submit"},"Войти",-1)),A=["onSubmit"],E=d(()=>e("h1",null,[i("Авторизация "),e("span",null,"/"),i(" Регистрация")],-1)),H=d(()=>e("button",{class:"btn",type:"submit"},"Зарегистрироваться",-1)),N=k({__name:"index",setup(p){const c=n(!0);n("");const m=n(""),l=n(""),s=n(""),v=n(""),b=V(),x=async()=>{try{const a=await y.post("https://api.itprofessionalswork.ru/auth/v1/login",{email:l.value,password:s.value},{withCredentials:!0});window.location.reload()}catch(a){console.log(a)}},g=async()=>{try{const a=await y.post("https://api.itprofessionalswork.ru/auth/v1/register",{name:m.value,email:l.value,password:s.value,repeatPassword:s.value},{withCredentials:!1});window.location.reload()}catch(a){console.log(a)}},w=()=>{c.value=!c.value};return S(()=>{I.get("ipw")&&b.push("/profile")}),(a,t)=>c.value?(_(),h("form",{key:0,class:"authForm",onSubmit:f(x,["prevent"])},[F,u(e("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=o=>l.value=o),placeholder:"Почта",required:""},null,512),[[r,l.value]]),u(e("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=o=>s.value=o),placeholder:"Пароль",required:""},null,512),[[r,s.value]]),M,e("p",null,[i("Нет аккаунта? "),e("button",{class:"btn",onClick:w},"Зарегистрироваться")])],40,B)):(_(),h("form",{key:1,class:"authForm",onSubmit:f(g,["prevent"])},[E,u(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>m.value=o),placeholder:"Имя / фамилия",required:""},null,512),[[r,m.value]]),u(e("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=o=>l.value=o),placeholder:"E-mail",required:""},null,512),[[r,l.value]]),u(e("input",{type:"password","onUpdate:modelValue":t[4]||(t[4]=o=>s.value=o),placeholder:"Пароль",required:""},null,512),[[r,s.value]]),u(e("input",{type:"password","onUpdate:modelValue":t[5]||(t[5]=o=>v.value=o),placeholder:"Повторите пароль",required:""},null,512),[[r,v.value]]),H,e("p",null,[i(" Уже есть аккаунт? "),e("button",{class:"btn",onClick:w},"Войти")])],40,A))}});const L=C(N,[["__scopeId","data-v-c37ca175"]]);export{L as default};
